# Gradle

<aside> 📌 Grooy기반으로 한 build tool</aside>

## CI / CD 를 위한 작업들을 자동화 시킨다.

- compile ( java 파일을 바이트 코드로 변환 )
- test ( 어플리케이션이 정상작동하는 지를 판단 )
- packaging ( jar & war 파일 생성 )
- deploy & run (

### CI

빌드 / 테스트 자동화 과정

개발자를 위한 자동화 프로세스인 지속적인 통합을 의미한다.

- 애플리케이션에 대한 새로운 코드 변경 사항이 정기적으로 빌드 및 테스트되어 공유 리포지토리에 통합되어 여러명이 동시에 애플리케이션 개발과 관련된 코드 작업 시 충돌 문제 해결 가능
- 커밋할 때마다 빌드와 일련의 자동 테스트가 이루어져 동작을 확인하고 변경으로 인해 문제가 생기는 부분이 없도록 보장한다.

### CD

배포 자동화 과정

지속적인 서비스 제공을 통해 코드 통합을 자동화하거나 지속적인 배포를 통해 최종 빌드를 최종 사용자에게 자동으로 릴리스 한다는 걸 의미한다.

### CI / CD = 테스트로 코드 오류와 결함이 줄어들어 모든 DevOps 워크플로에 중요한 역할을 한다.

------

### Gradle은 CI / CD 를 위한 아래의 TASK들을 자동화 시켜준다.

- TASK는 간단히 작업 또는 작업 단위를 의미

1. compile ( java 파일을 바이트 코드로 변환 )
2. test ( 어플리케이션이 정상작동하는 지를 판단 )
3. packaging ( jar & war 파일 생성 )
4. deploy & run ( 실행 )

------

### 빌드 속도가 빠르다.

**점진적 빌드**

이미 빌드된 파일말고 변경된 파일만 빌드한다.

- 빌드가 정상적으로 진행되지 않을 경우 cache를 clean 해준 뒤 다시 진행

**빌드 캐시**

먼저 빌드된 파일이 있을 경우 빌드 캐시를 이용해 해당 내용을 공유

같은 파일이 다시 빌드되지 않아 빌드 시간 감소

**데몬 프로세스**

서비스의 요청에 응답하기 위해 오랫동안 살아있는 프로세스

- 메모리 상에 빌드 결과물을 보관하여 한 번 빌드된 프로젝트는 다음 빌드에서 적은 시간 소요

------

### Gradle 의존성 옵션

- compile : 의존 라이브버리 수정 시 모든 모듈이 재빌드된다.본 모듈을 의존하는 모듈은 해당 라이브러리의 api 를 사용할 수 있다.
- implementation: 의존 라이브러리 수정시 본 모듈까지만 재빌드한다.본 모듈을 의존하는 모듈은 해당 라이브러리의 api 를 사용할 수 없다.
- api: 의존 라이브러리 수정시 본 모듈을 의존하는 모듈들도 재빌드본 모듈을 의존하는 모듈들도 해당 라이브러리의 api 를 사용할 수 있다.
- compileOnly: 이름에서 알 수 있듯이 compile 시에만 빌드하고 빌드 결과물에는 포함하지 않는다.
  - runtime 시 필요없는 라이브러리인 경우 (runtime 환경에 이미 라이브러리가 제공되고 있는가 하는 등의 경우)
- runtimeOnly: runtime 시에만 필요한 라이브러리인 경우
- annotationProcessor: annotation processor 명시 (ex:lombok)
- testImplementation : 테스트 코드를 수행할 때만 적용.